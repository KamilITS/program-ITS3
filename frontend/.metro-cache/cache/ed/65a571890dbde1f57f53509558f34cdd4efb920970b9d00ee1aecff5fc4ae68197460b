{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.apiFetch = apiFetch;\n  exports.uploadFile = uploadFile;\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  async function apiFetch(endpoint, options = {}) {\n    const token = await AsyncStorage.default.getItem('session_token');\n    const headers = {\n      'Content-Type': 'application/json',\n      ...options.headers\n    };\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    const response = await fetch(`${API_URL}${endpoint}`, {\n      method: options.method || 'GET',\n      headers,\n      body: options.body ? JSON.stringify(options.body) : undefined\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({\n        detail: 'Błąd serwera'\n      }));\n      throw new Error(errorData.detail || 'Wystąpił błąd');\n    }\n    return response.json();\n  }\n  async function uploadFile(endpoint, file) {\n    const token = await AsyncStorage.default.getItem('session_token');\n    const formData = new FormData();\n    formData.append('file', file);\n    const response = await fetch(`${API_URL}${endpoint}`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      },\n      body: formData\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({\n        detail: 'Błąd serwera'\n      }));\n      throw new Error(errorData.detail || 'Wystąpił błąd');\n    }\n    return response.json();\n  }\n});","lineCount":58,"map":[[12,2,11,0,"exports"],[12,9,11,0],[12,10,11,0,"apiFetch"],[12,18,11,0],[12,21,11,0,"apiFetch"],[12,29,11,0],[13,2,37,0,"exports"],[13,9,37,0],[13,10,37,0,"uploadFile"],[13,20,37,0],[13,23,37,0,"uploadFile"],[13,33,37,0],[14,2,1,0],[14,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[14,42,1,0],[14,45,1,0,"require"],[14,52,1,0],[14,53,1,0,"_dependencyMap"],[14,67,1,0],[15,2,1,0],[15,6,1,0,"AsyncStorage"],[15,18,1,0],[15,21,1,0,"_interopDefault"],[15,36,1,0],[15,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[15,73,1,0],[16,2,3,0],[16,8,3,6,"API_URL"],[16,15,3,13],[16,18,3,16,"process"],[16,25,3,23],[16,26,3,24,"env"],[16,29,3,27],[16,30,3,28,"EXPO_PUBLIC_BACKEND_URL"],[16,53,3,51],[16,57,3,55],[16,59,3,57],[17,2,11,7],[17,17,11,22,"apiFetch"],[17,25,11,30,"apiFetch"],[17,26,11,31,"endpoint"],[17,34,11,47],[17,36,11,49,"options"],[17,43,11,70],[17,46,11,73],[17,47,11,74],[17,48,11,75],[17,50,11,77],[18,4,12,2],[18,10,12,8,"token"],[18,15,12,13],[18,18,12,16],[18,24,12,22,"AsyncStorage"],[18,36,12,34],[18,37,12,34,"default"],[18,44,12,34],[18,45,12,35,"getItem"],[18,52,12,42],[18,53,12,43],[18,68,12,58],[18,69,12,59],[19,4,14,2],[19,10,14,8,"headers"],[19,17,14,39],[19,20,14,42],[20,6,15,4],[20,20,15,18],[20,22,15,20],[20,40,15,38],[21,6,16,4],[21,9,16,7,"options"],[21,16,16,14],[21,17,16,15,"headers"],[22,4,17,2],[22,5,17,3],[23,4,19,2],[23,8,19,6,"token"],[23,13,19,11],[23,15,19,13],[24,6,20,4,"headers"],[24,13,20,11],[24,14,20,12],[24,29,20,27],[24,30,20,28],[24,33,20,31],[24,43,20,41,"token"],[24,48,20,46],[24,50,20,48],[25,4,21,2],[26,4,23,2],[26,10,23,8,"response"],[26,18,23,16],[26,21,23,19],[26,27,23,25,"fetch"],[26,32,23,30],[26,33,23,31],[26,36,23,34,"API_URL"],[26,43,23,41],[26,46,23,44,"endpoint"],[26,54,23,52],[26,56,23,54],[26,58,23,56],[27,6,24,4,"method"],[27,12,24,10],[27,14,24,12,"options"],[27,21,24,19],[27,22,24,20,"method"],[27,28,24,26],[27,32,24,30],[27,37,24,35],[28,6,25,4,"headers"],[28,13,25,11],[29,6,26,4,"body"],[29,10,26,8],[29,12,26,10,"options"],[29,19,26,17],[29,20,26,18,"body"],[29,24,26,22],[29,27,26,25,"JSON"],[29,31,26,29],[29,32,26,30,"stringify"],[29,41,26,39],[29,42,26,40,"options"],[29,49,26,47],[29,50,26,48,"body"],[29,54,26,52],[29,55,26,53],[29,58,26,56,"undefined"],[30,4,27,2],[30,5,27,3],[30,6,27,4],[31,4,29,2],[31,8,29,6],[31,9,29,7,"response"],[31,17,29,15],[31,18,29,16,"ok"],[31,20,29,18],[31,22,29,20],[32,6,30,4],[32,12,30,10,"errorData"],[32,21,30,19],[32,24,30,22],[32,30,30,28,"response"],[32,38,30,36],[32,39,30,37,"json"],[32,43,30,41],[32,44,30,42],[32,45,30,43],[32,46,30,44,"catch"],[32,51,30,49],[32,52,30,50],[32,59,30,57],[33,8,30,59,"detail"],[33,14,30,65],[33,16,30,67],[34,6,30,82],[34,7,30,83],[34,8,30,84],[34,9,30,85],[35,6,31,4],[35,12,31,10],[35,16,31,14,"Error"],[35,21,31,19],[35,22,31,20,"errorData"],[35,31,31,29],[35,32,31,30,"detail"],[35,38,31,36],[35,42,31,40],[35,57,31,55],[35,58,31,56],[36,4,32,2],[37,4,34,2],[37,11,34,9,"response"],[37,19,34,17],[37,20,34,18,"json"],[37,24,34,22],[37,25,34,23],[37,26,34,24],[38,2,35,0],[39,2,37,7],[39,17,37,22,"uploadFile"],[39,27,37,32,"uploadFile"],[39,28,37,33,"endpoint"],[39,36,37,49],[39,38,37,51,"file"],[39,42,37,60],[39,44,37,62],[40,4,38,2],[40,10,38,8,"token"],[40,15,38,13],[40,18,38,16],[40,24,38,22,"AsyncStorage"],[40,36,38,34],[40,37,38,34,"default"],[40,44,38,34],[40,45,38,35,"getItem"],[40,52,38,42],[40,53,38,43],[40,68,38,58],[40,69,38,59],[41,4,40,2],[41,10,40,8,"formData"],[41,18,40,16],[41,21,40,19],[41,25,40,23,"FormData"],[41,33,40,31],[41,34,40,32],[41,35,40,33],[42,4,41,2,"formData"],[42,12,41,10],[42,13,41,11,"append"],[42,19,41,17],[42,20,41,18],[42,26,41,24],[42,28,41,26,"file"],[42,32,41,30],[42,33,41,31],[43,4,43,2],[43,10,43,8,"response"],[43,18,43,16],[43,21,43,19],[43,27,43,25,"fetch"],[43,32,43,30],[43,33,43,31],[43,36,43,34,"API_URL"],[43,43,43,41],[43,46,43,44,"endpoint"],[43,54,43,52],[43,56,43,54],[43,58,43,56],[44,6,44,4,"method"],[44,12,44,10],[44,14,44,12],[44,20,44,18],[45,6,45,4,"headers"],[45,13,45,11],[45,15,45,13],[46,8,46,6],[46,23,46,21],[46,25,46,23],[46,35,46,33,"token"],[46,40,46,38],[47,6,47,4],[47,7,47,5],[48,6,48,4,"body"],[48,10,48,8],[48,12,48,10,"formData"],[49,4,49,2],[49,5,49,3],[49,6,49,4],[50,4,51,2],[50,8,51,6],[50,9,51,7,"response"],[50,17,51,15],[50,18,51,16,"ok"],[50,20,51,18],[50,22,51,20],[51,6,52,4],[51,12,52,10,"errorData"],[51,21,52,19],[51,24,52,22],[51,30,52,28,"response"],[51,38,52,36],[51,39,52,37,"json"],[51,43,52,41],[51,44,52,42],[51,45,52,43],[51,46,52,44,"catch"],[51,51,52,49],[51,52,52,50],[51,59,52,57],[52,8,52,59,"detail"],[52,14,52,65],[52,16,52,67],[53,6,52,82],[53,7,52,83],[53,8,52,84],[53,9,52,85],[54,6,53,4],[54,12,53,10],[54,16,53,14,"Error"],[54,21,53,19],[54,22,53,20,"errorData"],[54,31,53,29],[54,32,53,30,"detail"],[54,38,53,36],[54,42,53,40],[54,57,53,55],[54,58,53,56],[55,4,54,2],[56,4,56,2],[56,11,56,9,"response"],[56,19,56,17],[56,20,56,18,"json"],[56,24,56,22],[56,25,56,23],[56,26,56,24],[57,2,57,0],[58,0,57,1],[58,3]],"functionMap":{"names":["<global>","apiFetch","response.json._catch$argument_0","uploadFile"],"mappings":"AAA;OCU;kDCmB,kCD;CDK;OGE;kDDe,kCC;CHK"},"hasCjsExports":false},"type":"js/module"}]}