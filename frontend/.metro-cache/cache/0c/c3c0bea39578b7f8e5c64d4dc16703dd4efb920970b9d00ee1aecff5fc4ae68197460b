{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.apiFetch = apiFetch;\n  exports.uploadFile = uploadFile;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  async function apiFetch(endpoint, options = {}) {\n    const token = await AsyncStorage.default.getItem('session_token');\n    const headers = {\n      'Content-Type': 'application/json',\n      ...options.headers\n    };\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    const response = await fetch(`${API_URL}${endpoint}`, {\n      method: options.method || 'GET',\n      headers,\n      body: options.body ? JSON.stringify(options.body) : undefined\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({\n        detail: 'Błąd serwera'\n      }));\n      throw new Error(errorData.detail || 'Wystąpił błąd');\n    }\n    return response.json();\n  }\n  async function uploadFile(endpoint, file) {\n    const token = await AsyncStorage.default.getItem('session_token');\n    const formData = new FormData();\n    formData.append('file', file);\n    const response = await fetch(`${API_URL}${endpoint}`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      },\n      body: formData\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({\n        detail: 'Błąd serwera'\n      }));\n      throw new Error(errorData.detail || 'Wystąpił błąd');\n    }\n    return response.json();\n  }\n});","lineCount":59,"map":[[12,2,11,0,"exports"],[12,9,11,0],[12,10,11,0,"apiFetch"],[12,18,11,0],[12,21,11,0,"apiFetch"],[12,29,11,0],[13,2,37,0,"exports"],[13,9,37,0],[13,10,37,0,"uploadFile"],[13,20,37,0],[13,23,37,0,"uploadFile"],[13,33,37,0],[14,2,57,1],[14,6,57,1,"_expoVirtualEnv"],[14,21,57,1],[14,24,57,1,"require"],[14,31,57,1],[14,32,57,1,"_dependencyMap"],[14,46,57,1],[15,2,1,0],[15,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[15,42,1,0],[15,45,1,0,"require"],[15,52,1,0],[15,53,1,0,"_dependencyMap"],[15,67,1,0],[16,2,1,0],[16,6,1,0,"AsyncStorage"],[16,18,1,0],[16,21,1,0,"_interopDefault"],[16,36,1,0],[16,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[16,73,1,0],[17,2,3,0],[17,8,3,6,"API_URL"],[17,15,3,13],[17,18,3,16,"_expoVirtualEnv"],[17,33,3,16],[17,34,3,16,"env"],[17,37,3,16],[17,38,3,16,"EXPO_PUBLIC_BACKEND_URL"],[17,61,3,16],[17,65,3,55],[17,67,3,57],[18,2,11,7],[18,17,11,22,"apiFetch"],[18,25,11,30,"apiFetch"],[18,26,11,31,"endpoint"],[18,34,11,47],[18,36,11,49,"options"],[18,43,11,70],[18,46,11,73],[18,47,11,74],[18,48,11,75],[18,50,11,77],[19,4,12,2],[19,10,12,8,"token"],[19,15,12,13],[19,18,12,16],[19,24,12,22,"AsyncStorage"],[19,36,12,34],[19,37,12,34,"default"],[19,44,12,34],[19,45,12,35,"getItem"],[19,52,12,42],[19,53,12,43],[19,68,12,58],[19,69,12,59],[20,4,14,2],[20,10,14,8,"headers"],[20,17,14,39],[20,20,14,42],[21,6,15,4],[21,20,15,18],[21,22,15,20],[21,40,15,38],[22,6,16,4],[22,9,16,7,"options"],[22,16,16,14],[22,17,16,15,"headers"],[23,4,17,2],[23,5,17,3],[24,4,19,2],[24,8,19,6,"token"],[24,13,19,11],[24,15,19,13],[25,6,20,4,"headers"],[25,13,20,11],[25,14,20,12],[25,29,20,27],[25,30,20,28],[25,33,20,31],[25,43,20,41,"token"],[25,48,20,46],[25,50,20,48],[26,4,21,2],[27,4,23,2],[27,10,23,8,"response"],[27,18,23,16],[27,21,23,19],[27,27,23,25,"fetch"],[27,32,23,30],[27,33,23,31],[27,36,23,34,"API_URL"],[27,43,23,41],[27,46,23,44,"endpoint"],[27,54,23,52],[27,56,23,54],[27,58,23,56],[28,6,24,4,"method"],[28,12,24,10],[28,14,24,12,"options"],[28,21,24,19],[28,22,24,20,"method"],[28,28,24,26],[28,32,24,30],[28,37,24,35],[29,6,25,4,"headers"],[29,13,25,11],[30,6,26,4,"body"],[30,10,26,8],[30,12,26,10,"options"],[30,19,26,17],[30,20,26,18,"body"],[30,24,26,22],[30,27,26,25,"JSON"],[30,31,26,29],[30,32,26,30,"stringify"],[30,41,26,39],[30,42,26,40,"options"],[30,49,26,47],[30,50,26,48,"body"],[30,54,26,52],[30,55,26,53],[30,58,26,56,"undefined"],[31,4,27,2],[31,5,27,3],[31,6,27,4],[32,4,29,2],[32,8,29,6],[32,9,29,7,"response"],[32,17,29,15],[32,18,29,16,"ok"],[32,20,29,18],[32,22,29,20],[33,6,30,4],[33,12,30,10,"errorData"],[33,21,30,19],[33,24,30,22],[33,30,30,28,"response"],[33,38,30,36],[33,39,30,37,"json"],[33,43,30,41],[33,44,30,42],[33,45,30,43],[33,46,30,44,"catch"],[33,51,30,49],[33,52,30,50],[33,59,30,57],[34,8,30,59,"detail"],[34,14,30,65],[34,16,30,67],[35,6,30,82],[35,7,30,83],[35,8,30,84],[35,9,30,85],[36,6,31,4],[36,12,31,10],[36,16,31,14,"Error"],[36,21,31,19],[36,22,31,20,"errorData"],[36,31,31,29],[36,32,31,30,"detail"],[36,38,31,36],[36,42,31,40],[36,57,31,55],[36,58,31,56],[37,4,32,2],[38,4,34,2],[38,11,34,9,"response"],[38,19,34,17],[38,20,34,18,"json"],[38,24,34,22],[38,25,34,23],[38,26,34,24],[39,2,35,0],[40,2,37,7],[40,17,37,22,"uploadFile"],[40,27,37,32,"uploadFile"],[40,28,37,33,"endpoint"],[40,36,37,49],[40,38,37,51,"file"],[40,42,37,60],[40,44,37,62],[41,4,38,2],[41,10,38,8,"token"],[41,15,38,13],[41,18,38,16],[41,24,38,22,"AsyncStorage"],[41,36,38,34],[41,37,38,34,"default"],[41,44,38,34],[41,45,38,35,"getItem"],[41,52,38,42],[41,53,38,43],[41,68,38,58],[41,69,38,59],[42,4,40,2],[42,10,40,8,"formData"],[42,18,40,16],[42,21,40,19],[42,25,40,23,"FormData"],[42,33,40,31],[42,34,40,32],[42,35,40,33],[43,4,41,2,"formData"],[43,12,41,10],[43,13,41,11,"append"],[43,19,41,17],[43,20,41,18],[43,26,41,24],[43,28,41,26,"file"],[43,32,41,30],[43,33,41,31],[44,4,43,2],[44,10,43,8,"response"],[44,18,43,16],[44,21,43,19],[44,27,43,25,"fetch"],[44,32,43,30],[44,33,43,31],[44,36,43,34,"API_URL"],[44,43,43,41],[44,46,43,44,"endpoint"],[44,54,43,52],[44,56,43,54],[44,58,43,56],[45,6,44,4,"method"],[45,12,44,10],[45,14,44,12],[45,20,44,18],[46,6,45,4,"headers"],[46,13,45,11],[46,15,45,13],[47,8,46,6],[47,23,46,21],[47,25,46,23],[47,35,46,33,"token"],[47,40,46,38],[48,6,47,4],[48,7,47,5],[49,6,48,4,"body"],[49,10,48,8],[49,12,48,10,"formData"],[50,4,49,2],[50,5,49,3],[50,6,49,4],[51,4,51,2],[51,8,51,6],[51,9,51,7,"response"],[51,17,51,15],[51,18,51,16,"ok"],[51,20,51,18],[51,22,51,20],[52,6,52,4],[52,12,52,10,"errorData"],[52,21,52,19],[52,24,52,22],[52,30,52,28,"response"],[52,38,52,36],[52,39,52,37,"json"],[52,43,52,41],[52,44,52,42],[52,45,52,43],[52,46,52,44,"catch"],[52,51,52,49],[52,52,52,50],[52,59,52,57],[53,8,52,59,"detail"],[53,14,52,65],[53,16,52,67],[54,6,52,82],[54,7,52,83],[54,8,52,84],[54,9,52,85],[55,6,53,4],[55,12,53,10],[55,16,53,14,"Error"],[55,21,53,19],[55,22,53,20,"errorData"],[55,31,53,29],[55,32,53,30,"detail"],[55,38,53,36],[55,42,53,40],[55,57,53,55],[55,58,53,56],[56,4,54,2],[57,4,56,2],[57,11,56,9,"response"],[57,19,56,17],[57,20,56,18,"json"],[57,24,56,22],[57,25,56,23],[57,26,56,24],[58,2,57,0],[59,0,57,1],[59,3]],"functionMap":{"names":["<global>","apiFetch","response.json._catch$argument_0","uploadFile"],"mappings":"AAA;OCU;kDCmB,kCD;CDK;OGE;kDDe,kCC;CHK"},"hasCjsExports":false},"type":"js/module"}]}